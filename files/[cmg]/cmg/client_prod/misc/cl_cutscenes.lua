function StartIntroCutscene()local a=tvRP.getCustomization()local b=31;local c=`mp_m_freemode_01`local d="MP_Male_Character"if GetEntityModel(CMG.getPlayerPed())==`mp_f_freemode_01`then b=103;c=`mp_f_freemode_01`d="MP_Female_Character"end;RequestCutsceneWithPlaybackList("mp_intro_concat",b,8)while not HasThisCutsceneLoaded("mp_intro_concat")do Citizen.Wait(0)end;StartCutscene(0)if c==`mp_m_freemode_01`then RegisterEntityForCutscene(CMG.getPlayerPed(),d,0,0,64)RegisterEntityForCutscene(0,"MP_Female_Character",3,`mp_f_freemode_01`,0)elseif c==`mp_f_freemode_01`then RegisterEntityForCutscene(0,"MP_Male_Character",3,`mp_f_freemode_01`,0)RegisterEntityForCutscene(CMG.getPlayerPed(),d,0,0,64)end;SetCutsceneEntityStreamingFlags(d,0,1)while not DoesCutsceneEntityExist(d,c)do Citizen.Wait(0)end;SetCutscenePedClothing(CMG.getPlayerPed(),a)end;function StartCasinoCutscene()local a=tvRP.getCustomization()local b=59301;local c=`mp_m_freemode_01`if GetEntityModel(CMG.getPlayerPed())==`mp_f_freemode_01`then b=40905;c=`mp_f_freemode_01`print("is female",c)end;EnableMovieSubtitles(true)RequestCutsceneWithPlaybackList("mpcas_int",b,8)while not HasThisCutsceneLoaded("mpcas_int")do Citizen.Wait(0)end;StartCutscene(0)RegisterEntityForCutscene(CMG.getPlayerPed(),"MP_1",0,0,64)while not DoesCutsceneEntityExist("MP_1",c)do Citizen.Wait(0)end;local e=GetEntityIndexOfCutsceneEntity("MP_1",c)SetCutscenePedClothing(CMG.getPlayerPed(),a)end;RegisterNetEvent("CMG:startNetworkedCutscene",function(f)RequestCutsceneWithPlaybackList(f.name,0,8)while not HasThisCutsceneLoaded(f.name)do Citizen.Wait(0)end;StartCutscene(0)for g,h in pairs(f.players)do local i=GetPlayerFromServerId(tonumber(h.source))local e=GetPlayerPed(i)local c=GetEntityModel(CMG.getPlayerPed())local a=tvRP.getPlayerCustomization(e)RegisterEntityForCutscene(e,h.cutsceneId,0,0,64)while not DoesCutsceneEntityExist(h.cutsceneId,c)do Citizen.Wait(0)end;local j=GetEntityIndexOfCutsceneEntity(h.cutsceneId,c)SetCutscenePedClothing(j,a)end end)local function k(l)if type(l)=="string"and string.sub(l,1,1)=="p"then return true,tonumber(string.sub(l,2))else return false,tonumber(l)end end;function SetCutscenePedClothing(e,a)for g,h in pairs(a)do if g~="model"and g~="modelhash"then local m,n=k(g)if m then if h[1]<0 then ClearPedProp(e,n)else SetPedPropIndex(e,n,h[1],h[2],h[3]or 2)end else SetPedComponentVariation(e,n,h[1],h[2],h[3]or 2)end end end end