RMenu.Add('cmgadminmenu','mainmenu',RageUI.CreateMenu("","Name - PermID - TempID",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu:Get('cmgadminmenu','mainmenu'):SetSubtitle("~b~Players")RMenu.Add('cmgadminmenu','allplayers',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Admin Player Interaction Menu",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','closeplayers',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Admin Player Interaction Menu",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','criteriasearch',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Admin Player Interaction Menu",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','searchfilter',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Admin Player Interaction Menu",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','filterbyname',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Admin Player Interaction Menu",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','filterbytemp',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Admin Player Interaction Menu",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','filterbyperm',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Admin Player Interaction Menu",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','searchhistory',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Admin Player Interaction Menu",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','settings',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Admin Player Interaction Menu",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','playermenu',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Admin Player Interaction Menu",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','functions',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Admin Functions Menu",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','groups',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Admin Groups Menu",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','addgroup',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Admin Groups Menu",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','removegroup',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Admin Groups Menu",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','banreasonmenu',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Select Ban Reason(s)",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','confirmban',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Confirm Ban",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','playernotesmenu',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','mainmenu'),"","~b~Player Notes",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))RMenu.Add('cmgadminmenu','previewplayernotes',RageUI.CreateSubMenu(RMenu:Get('cmgadminmenu','playermenu'),"","~b~Player Notes",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_adminui","cmg_adminui"))local a=0;local b="none"local c=nil;local d=nil;local e=nil;local f=nil;local g=nil;local h=0;local i;local j={}local k=1;local l={["casino"]="Casino Staff",["soa2"]="SOA",["cmgtrader"]="CMG Trader Whitelist",["pov"]="Must Provide POV"}local m={}local n;local o={}local p={}local q=""local r={{id="trolling",name="1.0 Trolling",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="trollingminor",name="1.0 Trolling (Minor)",desc="1st Offense: 2hr\n2nd Offense: 12hr\n3rd Offense: 24hr",selected=false},{id="metagaming",name="1.1 Metagaming",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="powergaming",name="1.2 Power Gaming ",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="failrp",name="1.3 Fail RP",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="rdm",name="1.4 RDM",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="massrdm",name="1.4.1 Mass RDM",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="nrti",name="1.5 No Reason to Initiate (NRTI) ",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="vdm",name="1.6 VDM",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="massvdm",name="1.6.1 Mass VDM",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="offlanguageminor",name="1.7 Offensive Language/Toxicity (Minor)",desc="1st Offense: 2hr\n2nd Offense: 24hr\n3rd Offense: 72hr",selected=false},{id="offlanguagestandard",name="1.7 Offensive Language/Toxicity (Standard)",desc="1st Offense: 48hr\n2nd Offense: 72hr\n3rd Offense: 168hr",selected=false},{id="offlanguagesevere",name="1.7 Offensive Language/Toxicity (Severe)",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="breakrp",name="1.8 Breaking Character",desc="1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",selected=false},{id="combatlog",name="1.9 Combat logging",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="combatstore",name="1.10 Combat storing",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="exploitingstandard",name="1.11 Exploiting (Standard)",desc="1st Offense: 24hr\n2nd 48hr\n3rd 72hr",selected=false},{id="exploitingsevere",name="1.11 Exploiting (Severe)",desc="1st Offense: 168hr\n2nd Permanent\n3rd N/A",selected=false},{id="oogt",name="1.12 Out of game transactions (OOGT)",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="spitereport",name="1.13 Spite Reports ",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 168hr",selected=false},{id="scamming",name="1.14 Scamming",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="loans",name="1.15 Loans",desc="1st Offense: 48hr\n2nd Offense: 168hr\n3rd Offense: Permanent",selected=false},{id="wastingadmintime",name="1.16 Wasting Admin Time",desc="1st Offense: 2hr\n2nd Offense: 12hr\n3rd Offense: 24hr",selected=false},{id="ftvl",name="2.1 Value of Life",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="sexualrp",name="2.2 Sexual RP",desc="1st Offense: 168hr\n2nd Offense: Permanent\n3rd N/A",selected=false},{id="terrorrp",name="2.3 Terrorist RP",desc="1st Offense: 168hr\n2nd Offense: Permanent\n3rd N/A",selected=false},{id="impwhitelisted",name="2.4 Impersonation of Whitelisted Factions",desc="1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",selected=false},{id="gtadriving",name="2.5 GTA Online Driving",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="nlr",name="2.6 NLR",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="badrp",name="2.7 Bad RP",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="kidnapping",name="2.8 Kidnapping",desc="1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",selected=false},{id="stealingems",name="3.0 Theft of Emergency Vehicles",desc="1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",selected=false},{id="whitelistabusestandard",name="3.1 Whitelist Abuse",desc="1st Offense: 24hr\n2nd Offense: 72hr\n3rd 168hr",selected=false},{id="whitelistabusesevere",name="3.1 Whitelist Abuse",desc="1st Offense: 168hr\n2nd Offense: Permanent\n3rd N/A",selected=false},{id="copbaiting",name="3.2 Cop Baiting",desc="1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",selected=false},{id="pdkidnapping",name="3.3 PD Kidnapping",desc="1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",selected=false},{id="unrealisticrevival",name="3.4 Unrealistic Revival",desc="1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",selected=false},{id="interjectingrobbery",name="Interjection of Robberies",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="interjectingrp",name="Interjection of RP",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="combatrev",name="3.5 Combat Reviving",desc="1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",selected=false},{id="gangcap",name="3.6 Gang Cap",desc="1st Offense: 24hr\n2nd Offense: 72hr\n3rd Offense: 168h",selected=false},{id="maxgang",name="3.7 Max Gang Numbers",desc="1st Offense: 24hr\n2nd Offense: 72hr\n3rd Offense: 168h",selected=false},{id="gangalliance",name="3.8 Gang Alliance",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="impgang",name="3.10 Impersonation of Gangs",desc="1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",selected=false},{id="gzstealing",name="4.1 Stealing Vehicles in Greenzone",desc="1st Offense: 2hr\n2nd Offense: 12hr\n3rd Offense: 24hr",selected=false},{id="gzillegal",name="4.2 Selling Illegal Items in Greenzone",desc="1st Offense: 12hr\n2nd Offense: 24hr\n3rd Offense: 48hr",selected=false},{id="gzretretreating",name="4.3 Greenzone Retreating ",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="rzhostage",name="4.5 Taking Hostage into Redzone",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="rzretreating",name="4.6 Redzone Retreating",desc="1st Offense: 24hr\n2nd Offense: 48hr\n3rd Offense: 72hr",selected=false},{id="advert",name="1.1 Advertising",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="bullying",name="1.2 Bullying",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="impersonationrule",name="1.3 Impersonation",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="language",name="1.4 Language",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="discrim",name="1.5 Discrimination ",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="attacks",name="1.6 Malicious Attacks ",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="PIIstandard",name="1.7 PII (Personally Identifiable Information)(Standard)",desc="1st Offense: 168hr\n2nd Offense: Permanent\n3rd Offense: N/A",selected=false},{id="PIIsevere",name="1.7 PII (Personally Identifiable Information)(Severe)",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="chargeback",name="1.8 Chargeback",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="discretion",name="1.9 Staff Discretion",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="cheating",name="1.10 Cheating",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="banevading",name="1.11 Ban Evading",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="fivemcheats",name="1.12 Withholding/Storing FiveM Cheats",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="altaccount",name="1.13 Multi-Accounting",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="association",name="1.14 Association with External Modifications",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="pov",name="1.15 Failure to provide POV ",desc="1st Offense: 2hr\n2nd Offense: Permanent\n3rd Offense: N/A",selected=false},{id="withholdinginfostandard",name="1.16 Withholding Information From Staff (Standard)",desc="1st Offense: 48hr\n2nd Offense: 72hr\n3rd Offense: 168hr",selected=false},{id="withholdinginfosevere",name="1.16 Withholding Information From Staff (Severe)",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false},{id="blackmail",name="1.17 Blackmailing",desc="1st Offense: Permanent\n2nd Offense: N/A\n3rd Offense: N/A",selected=false}}local s={"PD (Mission Row)","PD (Sandy)","PD (Paleto)","City Hall","Airport","HMP","Rebel Diner","St Thomas","Tutorial Spawn"}local t={vector3(446.72503662109,-982.44342041016,30.68931579589),vector3(1839.3137207031,3671.0014648438,34.310436248779),vector3(-437.32931518555,6021.2114257813,31.490119934082),vector3(-551.08221435547,-194.19259643555,38.219661712646),vector3(-1142.0673828125,-2851.802734375,13.94624710083),vector3(1848.2724609375,2586.7385253906,45.671997070313),vector3(1588.3441162109,6439.3696289063,25.123600006104),vector3(283.37664794922,-579.45318603516,43.219303131104),vector3(-1031.0992431641,-2727.9765625,13.740306854248)}local u={"Default","25","50","100","250","500","Custom"}local v=1;local w={}local x=0;local y={"Mosins"}local z=1;local A={}local B=false;AddEventHandler("CMG:onClientSpawn",function(C,D)if D then TriggerServerEvent("CMG:requestAdminPerks")end end)RegisterNetEvent("CMG:sendAdminperks",function(E,F)TriggerServerEvent("CMG:verifyAdminPerks")a=E;b=F end)function CMG.getStaffLevel()return a end;function CMG.getStaffRank()return b end;local function G()local H=CMG.getPlayerNameDistance()if H==7.0 then return 1 else for I,J in pairs(u)do local K=tonumber(J)if K and K==math.floor(H)then return I end end end;return#u end;RegisterNetEvent("CMG:setVideoRequestQueueCount",function(L,M)if c==L then h=M end end)RageUI.CreateWhile(1.0,RMenu:Get('cmgadminmenu','mainmenu'),nil,function()if CMG.getStaffLevel()>0 then RageUI.IsVisible(RMenu:Get('cmgadminmenu','mainmenu'),true,true,true,function()f=nil;g=nil;RageUI.ButtonWithStyle("All Players","",{RightLabel="→→→"},true,function(N,O,P)end,RMenu:Get('cmgadminmenu','allplayers'))RageUI.ButtonWithStyle("Nearby Players","",{RightLabel="→→→"},true,function(N,O,P)end,RMenu:Get('cmgadminmenu','closeplayers'))RageUI.ButtonWithStyle("Search Players","",{RightLabel="→→→"},true,function(N,O,P)end,RMenu:Get('cmgadminmenu','searchfilter'))RageUI.ButtonWithStyle("Functions","",{RightLabel="→→→"},true,function(N,O,P)end,RMenu:Get('cmgadminmenu','functions'))RageUI.ButtonWithStyle("Settings","",{RightLabel="→→→"},true,function(N,O,P)end,RMenu:Get('settingsmenu','settings'))end,function()end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','closeplayers'),true,true,true,function()local Q=GetEntityCoords(CMG.getPlayerPed())if CMG.isInSpectate()then Q=GetFinalRenderedCamCoord()end;for R,S in ipairs(sortedFullPlayerListData)do if S~="_meta"and not CMG.isUserHidden(S)then if fullPlayerListData[S][1]~=nil then playerSrc=fullPlayerListData[S][1]else playerSrc=0 end;local T=GetPlayerFromServerId(playerSrc)local U=GetPlayerPed(T)local V=GetEntityCoords(U)local W=#(V-Q)if T~=-1 and W<50.0 and not w[playerSrc]then if fullPlayerListData[S][2]~=nil then name=fullPlayerListData[S][2]else name="Error"end;local X=0;if fullPlayerListData[S][4]~=nil then X=fullPlayerListData[S][4]else X="N/A"end;RageUI.ButtonWithStyle(name.." ["..tostring(playerSrc).."]",tostring(name).." ("..X.." hours) PermID: "..tostring(S).." TempID: "..tostring(playerSrc),{RightLabel="→→→"},true,function(N,O,P)if O then local L=GetPlayerFromServerId(playerSrc)if L~=-1 then local Y=GetPlayerPed(L)if Y~=0 and Y~=CMG.getPlayerPed()then local Z=GetEntityCoords(Y,true)DrawMarker(2,Z.x,Z.y,Z.z+1.1,0.0,0.0,0.0,0.0,-180.0,0.0,0.4,0.4,0.4,255,255,0,125,false,true,2,false,nil,nil,false)end end end;if P then c=S;d=playerSrc;e=name;TriggerServerEvent("CMG:getGroups",c)end end,RMenu:Get('cmgadminmenu','playermenu'))end end end end,function()end)RageUI.IsVisible(RMenu:Get("cmgadminmenu","criteriasearch"),true,true,true,function()for R,_ in pairs(A)do local a0=fullPlayerListData[_]if a0 then local playerSrc=0;if a0[1]then playerSrc=a0[1]end;local name="Error"if a0[2]then name=a0[2]end;local X="N/A"if a0[4]then X=a0[4]end;RageUI.ButtonWithStyle(name.." ["..tostring(playerSrc).."]",tostring(name).." ("..X.." hours) PermID: "..tostring(_).." TempID: "..tostring(playerSrc),{RightLabel="→→→"},true,function(N,O,P)if P then c=_;d=playerSrc;e=name;TriggerServerEvent("CMG:getGroups",c)end end,RMenu:Get('cmgadminmenu','playermenu'))end end end,function()end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','searchfilter'),true,true,true,function()RageUI.ButtonWithStyle("Search by Name","",{RightLabel="→→→"},true,function(N,O,P)if P then i=getSearchField("Name")end end,RMenu:Get('cmgadminmenu','filterbyname'))RageUI.ButtonWithStyle("Search by Temp ID","",{RightLabel="→→→"},true,function(N,O,P)if P then i=getSearchField("Temp ID")j[k]=i;k=k+1 end end,RMenu:Get('cmgadminmenu','filterbytemp'))RageUI.ButtonWithStyle("Search by Perm ID","",{RightLabel="→→→"},true,function(N,O,P)if P then i=getSearchField("Perm ID")j[k]=i;k=k+1 end end,RMenu:Get('cmgadminmenu','filterbyperm'))if CMG.getStaffLevel()>=6 then RageUI.List("Search By Criteria",y,z,"",{},true,function(N,O,P,a1)if a1~=z then z=a1 elseif P then TriggerServerEvent("CMG:searchByCriteria",y[z])end end)end;RageUI.ButtonWithStyle("Search History","",{RightLabel="→→→"},true,function(N,O,P)end,RMenu:Get('cmgadminmenu','searchhistory'))end,function()end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','allplayers'),true,true,true,function()for R,S in ipairs(sortedFullPlayerListData)do if S~="_meta"and not CMG.isUserHidden(S)then if fullPlayerListData[S][1]~=nil then playerSrc=fullPlayerListData[S][1]else playersrc=0 end;if fullPlayerListData[S][2]~=nil then name=fullPlayerListData[S][2]else name="Error"end;local X=0;if fullPlayerListData[S][4]~=nil then X=fullPlayerListData[S][4]else X="N/A"end;RageUI.ButtonWithStyle(name.." ["..tostring(playerSrc).."]",tostring(name).." ("..X.." hours) PermID: "..tostring(S).." TempID: "..tostring(playerSrc),{RightLabel="→→→"},true,function(N,O,P)if P then c=S;d=playerSrc;e=name;TriggerServerEvent("CMG:getGroups",c)end end,RMenu:Get('cmgadminmenu','playermenu'))end end end,function()end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','filterbyname'),true,true,true,function()for R,S in ipairs(sortedFullPlayerListData)do if S~="_meta"and not CMG.isUserHidden(S)then if fullPlayerListData[S][1]~=nil then playerSrc=fullPlayerListData[S][1]else playersrc=0 end;if fullPlayerListData[S][2]~=nil then name=fullPlayerListData[S][2]else name="Error"end;local X=0;if fullPlayerListData[S][4]~=nil then X=fullPlayerListData[S][4]else X="N/A"end;if i then if string.match(string.lower(name),string.lower(i))then RageUI.ButtonWithStyle(name.." ["..tostring(playerSrc).."]",tostring(name).." ("..X.." hours) PermID: "..tostring(S).." TempID: "..tostring(playerSrc),{RightLabel="→→→"},true,function(N,O,P)if P then c=S;d=playerSrc;e=name;TriggerServerEvent("CMG:getGroups",c)end end,RMenu:Get('cmgadminmenu','playermenu'))end end end end end,function()end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','filterbytemp'),true,true,true,function()for R,S in ipairs(sortedFullPlayerListData)do if S~="_meta"and not CMG.isUserHidden(S)then if fullPlayerListData[S][1]~=nil then playerSrc=fullPlayerListData[S][1]else playerSrc=0 end;if fullPlayerListData[S][2]~=nil then name=fullPlayerListData[S][2]else name="Error"end;local X=0;if fullPlayerListData[S][4]~=nil then X=fullPlayerListData[S][4]else X="N/A"end;if i then if tonumber(i)==playerSrc then RageUI.ButtonWithStyle(name.." ["..tostring(playerSrc).."]",tostring(name).." ("..X.." hours) PermID: "..tostring(S).." TempID: "..tostring(playerSrc),{RightLabel="→→→"},true,function(N,O,P)if P then c=S;d=playerSrc;e=name;TriggerServerEvent("CMG:getGroups",c)end end,RMenu:Get('cmgadminmenu','playermenu'))end end end end end,function()end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','filterbyperm'),true,true,true,function()for R,S in ipairs(sortedFullPlayerListData)do if S~="_meta"and not CMG.isUserHidden(S)then if fullPlayerListData[S][1]~=nil then playerSrc=fullPlayerListData[S][1]else playersrc=0 end;if fullPlayerListData[S][2]~=nil then name=fullPlayerListData[S][2]else name="Error"end;local X=0;if fullPlayerListData[S][4]~=nil then X=fullPlayerListData[S][4]else X="N/A"end;if i then if tonumber(i)==S then RageUI.ButtonWithStyle(name.." ["..tostring(playerSrc).."]",tostring(name).." ("..X.." hours) PermID: "..tostring(S).." TempID: "..tostring(playerSrc),{RightLabel="→→→"},true,function(N,O,P)if P then c=S;d=playerSrc;e=name;TriggerServerEvent("CMG:getGroups",c)end end,RMenu:Get('cmgadminmenu','playermenu'))end end end end end,function()end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','searchhistory'),true,true,true,function()for R,S in ipairs(sortedFullPlayerListData)do if S~="_meta"and not CMG.isUserHidden(S)then if fullPlayerListData[S][1]~=nil then playerSrc=fullPlayerListData[S][1]else playersrc=0 end;if fullPlayerListData[S][2]~=nil then name=fullPlayerListData[S][2]else name="Error"end;local X=0;if fullPlayerListData[S][4]~=nil then X=fullPlayerListData[S][4]else X="N/A"end;if k>1 then for a2=#j,#j-10,-1 do if j[a2]then if tonumber(j[a2])==S then RageUI.ButtonWithStyle(name.." ["..tostring(playerSrc).."]",tostring(name).." ("..X.." hours) PermID: "..tostring(S).." TempID: "..tostring(playerSrc),{RightLabel="→→→"},true,function(N,O,P)if P then c=S;d=playerSrc;e=name;TriggerServerEvent("CMG:getGroups",c)h=0 end end,RMenu:Get('cmgadminmenu','playermenu'))end end end end end end end,function()end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','playermenu'),true,true,true,function()if CMG.isUserHidden(c)then RageUI.CloseAll()return end;if f==nil then RageUI.Separator("~y~Player must provide POV on request: Loading...")elseif f==true then RageUI.Separator("~y~Player must provide POV on request: ~g~true")elseif f==false then RageUI.Separator("~y~Player must provide POV on request: ~r~false")end;RageUI.ButtonWithStyle("Player Notes",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:getPlayerNotes",c)end end,RMenu:Get('cmgadminmenu','playernotesmenu'))RageUI.ButtonWithStyle("Kick Player",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then local a3=getGenericTextInput("Kick reason")TriggerServerEvent("CMG:kickPlayer",c,a3)end end,RMenu:Get('cmgadminmenu','playermenu'))if CMG.getStaffLevel()>=2 then RageUI.ButtonWithStyle("Ban Player",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then o={}p={}for a2=1,#r,1 do local a4=r[a2]a4.selected=false end;q=nil;TriggerServerEvent("CMG:getPlayerNotes",c)end end,RMenu:Get('cmgadminmenu','previewplayernotes'))end;if CMG.getStaffLevel()>=3 then RageUI.ButtonWithStyle("Spectate Player",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then if d~=GetPlayerServerId(PlayerId())then TriggerServerEvent("CMG:spectatePlayer",c)inSpectatorAdminMode=true;RageUI.Text({message=string.format("~r~Press [E] to stop spectating.")})else notify("~r~You can not spectate yourself")end end end,RMenu:Get('cmgadminmenu','playermenu'))RageUI.ButtonWithStyle("Revive",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:revivePlayer",c)end end,RMenu:Get('cmgadminmenu','playermenu'))end;RageUI.ButtonWithStyle("Teleport To Player",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:teleportToPlayer",c)end end,RMenu:Get('cmgadminmenu','playermenu'))RageUI.ButtonWithStyle("Teleport Player To Me",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:teleportToPlayerToMe",c)end end,RMenu:Get('cmgadminmenu','playermenu'))RageUI.ButtonWithStyle("Teleport to Admin Zone",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:teleportToAdminZone",c)end end,RMenu:Get('cmgadminmenu','playermenu'))RageUI.ButtonWithStyle("Teleport Back from Admin Zone",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:teleportBackFromAdminZone",c)end end,RMenu:Get('cmgadminmenu','playermenu'))RageUI.ButtonWithStyle("Teleport to Legion",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:teleportToLegion",c)end end,RMenu:Get('cmgadminmenu','playermenu'))RageUI.ButtonWithStyle("Freeze Player",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:freezePlayer",c)end end,RMenu:Get('cmgadminmenu','playermenu'))if CMG.getStaffLevel()>=3 then RageUI.ButtonWithStyle("Slap Player",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:slapPlayer",c)end end,RMenu:Get('cmgadminmenu','playermenu'))RageUI.ButtonWithStyle("Force Clock off",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:forceClockOff",c)end end,RMenu:Get('cmgadminmenu','playermenu'))end;RageUI.ButtonWithStyle("Open F10 Warning Log",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:showWarnings",c)end end,RMenu:Get('cmgadminmenu','playermenu'))RageUI.ButtonWithStyle("Take Screenshot",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:takeScreenshot",c)end end,RMenu:Get('cmgadminmenu','playermenu'))if CMG.getStaffLevel()>=4 then local a5={RightLabel="→→→"}if h>0 then a5={RightLabel=tostring(h).." Queued"}end;RageUI.ButtonWithStyle("Request Ping Check",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),a5,true,function(N,O,P)if P then TriggerServerEvent("CMG:takeVideo",c)TriggerServerEvent("CMG:getVideoRequestQueueCount",c)end end,RMenu:Get('cmgadminmenu','playermenu'))end;RageUI.ButtonWithStyle("See Groups","~r~This is moderator+ ~w~Name: "..tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:getGroups",c)end end,RMenu:Get('cmgadminmenu','groups'))if CMG.getStaffLevel()>=6 then RageUI.ButtonWithStyle("Request Account Info",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:requestPlayerAccountInfo",c)end end,RMenu:Get('cmgadminmenu','playermenu'))end;if CMG.getStaffLevel()>=4 then RageUI.ButtonWithStyle("Commit Godly Wrath on Player",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:zapPlayer",c)end end,RMenu:Get('cmgadminmenu','playermenu'))end end,function()end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','functions'),true,true,true,function()if CMG.getStaffLevel()>=1 then RageUI.ButtonWithStyle("Get Coords",nil,{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:getCoords")end end)RageUI.ButtonWithStyle("Get Vector4",nil,{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:getVector4")end end)RageUI.ButtonWithStyle("Kick (No F10)","",{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:kickNoF10")end end)RageUI.List("Teleport",s,v,nil,{},true,function(N,O,P,a1)v=a1;if P then CMG.teleport(t[v],true)end end,function()end)RageUI.Checkbox("Hide Admin Chat","",B,{},function(N,O,P,a6)if P then B=a6;TriggerServerEvent("CMG:setAdminChatHidden",a6)end end)end;if CMG.getStaffLevel()>=4 then RageUI.ButtonWithStyle("TP To Coords","",{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:tpToCoords")end end)end;if CMG.getStaffLevel()>=2 then RageUI.ButtonWithStyle("Offline Ban","",{RightLabel="→→→"},true,function(N,O,P)if P then o={}p={}for a2=1,#r,1 do local a4=r[a2]a4.selected=false end;c=tonumber(getSearchField("Perm ID"))q=nil end end,RMenu:Get('cmgadminmenu','banreasonmenu'))RageUI.List("Far Ids",u,G(),"",{},true,function(N,O,P,a1)if G()~=a1 then local J=u[a1]if not CMG.isStaffedOn()then notify("~r~You are not staffed on.")elseif J=="Default"then CMG.setPlayerNameDistance(-1)elseif J~="Custom"then CMG.setPlayerNameDistance(tonumber(J)+0.0)end end end,function()end,nil)end;if CMG.getStaffLevel()>=4 then RageUI.ButtonWithStyle("TP To Waypoint","",{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:tpToWaypoint")end end)RageUI.ButtonWithStyle("Unban","",{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:unban")end end)RageUI.ButtonWithStyle("Spawn Taxi","",{RightLabel="→→→"},true,function(N,O,P)if P and GetGameTimer()-x>5000 then x=GetGameTimer()local Q=GetEntityCoords(CMG.getPlayerPed())CMG.spawnVehicle("taxi",Q.x,Q.y,Q.z,GetEntityHeading(CMG.getPlayerPed()),true,true,true)TriggerServerEvent("CMG:logTaxiSpawn",Q)end end)RageUI.ButtonWithStyle("Revive All Nearby","",{RightLabel="→→→"},true,function(N,O,P)if P then local Q=CMG.getPlayerCoords()for R,a7 in pairs(GetActivePlayers())do local a8=GetPlayerServerId(a7)local Y=GetPlayerPed(a7)if a8~=-1 and Y~=0 then local a9=GetEntityCoords(Y,true)if#(Q-a9)<50.0 then local _=CMG.clientGetUserIdFromSource(a8)if _>0 then TriggerServerEvent("CMG:revivePlayer",_)end end end end end end)end;if CMG.getStaffLevel()>=5 then RageUI.ButtonWithStyle("Remove Warning","",{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:removeF10")end end)end;if CMG.getStaffLevel()>=6 then local aa=""if CMG.hasStaffBlips()then aa="~r~Turn off blips"else aa="~g~Turn on blips"end;RageUI.ButtonWithStyle("Toggle Blips",aa,{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:showBlips",not CMG.hasStaffBlips())end end)RageUI.ButtonWithStyle("Community Pot Menu","",{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:getCommunityPotAmount")end end,RMenu:Get("cmgcommunitypot","mainmenu"))RageUI.ButtonWithStyle("RP Zones","",{RightLabel="→→→"},true,function(N,O,P)end,RMenu:Get("rpzones","mainmenu"))end;if CMG.getStaffLevel()==7 or CMG.isDeveloper(CMG.getUserId())then RageUI.ButtonWithStyle("Crun","",{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:crun")end end)end;if CMG.isDeveloper(CMG.getUserId())or CMG.getStaffLevel()>=6 or CMG.getUserId()==23 then RageUI.Checkbox("Set Globally Hidden","",CMG.isLocalPlayerHidden(),{},function()end,function()TriggerServerEvent("CMG:setUserHidden",true)end,function()TriggerServerEvent("CMG:setUserHidden",false)end)end;if CMG.getStaffLevel()==7 then RageUI.ButtonWithStyle("Add Group","",{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:addGroup")end end)RageUI.ButtonWithStyle("Remove Group","",{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:removeGroup")end end)RageUI.ButtonWithStyle("Give Item","",{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:giveItem")end end)RageUI.ButtonWithStyle("Give Money","",{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:giveMoney")end end)end end,function()end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','groups'),true,true,true,function()for S,ab in pairs(l)do if m[S]==ab then RageUI.ButtonWithStyle("~g~"..ab,"~g~User has this group.",{RightLabel="→→→"},true,function(N,O,P)if P then n=S end end,RMenu:Get('cmgadminmenu','removegroup'))else RageUI.ButtonWithStyle("~r~"..ab,"~r~User does not have this group.",{RightLabel="→→→"},true,function(N,O,P)if P then n=S end end,RMenu:Get('cmgadminmenu','addgroup'))end end end,function()end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','addgroup'),true,true,true,function()RageUI.ButtonWithStyle("Add this group to user","",{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:staffAddGroup",c,n)end end,RMenu:Get('cmgadminmenu','groups'))end,function()end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','removegroup'),true,true,true,function()RageUI.ButtonWithStyle("Remove user from group","",{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:staffRemoveGroup",c,n)end end,RMenu:Get('cmgadminmenu','groups'))end,function()end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','playernotesmenu'),true,true,true,function()if g==nil then RageUI.Separator("~o~Player notes: Loading...")elseif#g==0 then RageUI.Separator("~o~There are no player notes to display.")else RageUI.Separator("~o~Player notes:")for a2=1,#g do RageUI.Separator("~o~ID: "..g[a2].id.." "..g[a2].note.." ("..g[a2].author..")")end end;RageUI.ButtonWithStyle("Add To Notes",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then CMG.clientPrompt("Add To Notes: ","",function(ac)if ac~=""then if#g~=0 then g[#g+1]={id=#g+1,note=ac,author=CMG.getUserId()}else g={{id=1,note=ac,author=CMG.getUserId()}}end;TriggerServerEvent("CMG:updatePlayerNotes",c,g)end end)end end,RMenu:Get('cmgadminmenu','playernotesmenu'))RageUI.ButtonWithStyle("Remove Note",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then CMG.clientPrompt("Type the ID of the note","",function(ac)if ac~=""then ac=tonumber(ac)local ad={}local ae=false;for a2=1,#g do if g[a2].id==ac then for af=1,#g do if af~=a2 then ad[#ad+1]={id=#ad+1,note=g[af].note,author=g[af].author}end end;ae=true;break end end;if ae==true then if#ad==0 then ad=nil;g={}else g=ad end;TriggerServerEvent("CMG:updatePlayerNotes",c,ad)end end end)end end,RMenu:Get('cmgadminmenu','playernotesmenu'))end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','previewplayernotes'),true,true,true,function()if g==nil then RageUI.Separator("~o~Player notes: Loading...")elseif#g==0 then RageUI.Separator("~o~There are no player notes to display.")else for a2=1,#g do RageUI.Separator("~o~ID: "..g[a2].id.." "..g[a2].note.." ("..g[a2].author..")")end end;RageUI.ButtonWithStyle("~g~Continue To Ban",tostring(e).." PermID: "..tostring(c).." TempID: "..tostring(d),{RightLabel="→→→"},true,function(N,O,P)if P then end end,RMenu:Get('cmgadminmenu','banreasonmenu'))end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','banreasonmenu'),true,true,true,function()RageUI.BackspaceMenuCallback(function()q=nil end)if IsControlJustPressed(0,22)then CMG.clientPrompt("Search for: ","",function(ac)if ac~=""then q=string.lower(ac)end end)end;for a2=1,#r,1 do local a4=r[a2]local function ag()o[a4.id]=true;a4.selected=true end;local function ah()o[a4.id]=nil;a4.selected=false end;if q==nil or string.match(string.lower(r[a2].id),q)or string.match(string.lower(r[a2].name),q)then RageUI.Checkbox(a4.name,a4.desc,a4.selected,{Style=RageUI.CheckboxStyle.Car},function(N,P,O,a6)end,ag,ah)end end;RageUI.ButtonWithStyle("Confirm Ban","",{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:generateBanInfo",c,o)end end,RMenu:Get('cmgadminmenu','confirmban'))end,function()end)RageUI.IsVisible(RMenu:Get('cmgadminmenu','confirmban'),true,true,true,function()if table.count(p)~=0 then RageUI.Separator("~r~You are about to ban "..p.name)RageUI.Separator("~w~For the following reason(s):")for R,ai in pairs(p.reasons)do RageUI.Separator(ai)end;local aj=nil;if p.totalLength>=9000 then aj="Permanent"end;RageUI.Separator("~w~Total Length: "..(aj or p.totalLength.." hrs"))else RageUI.Separator("~g~Generating ban info, please wait...")end;RageUI.ButtonWithStyle("Cancel","",{RightLabel="→→→"},true,function(N,O,P)if P then o={}p={}for a2=1,#r,1 do local a4=r[a2]a4.selected=false end end end,RMenu:Get('cmgadminmenu','mainmenu'))RageUI.ButtonWithStyle("Confirm","",{RightLabel="→→→"},true,function(N,O,P)if P then TriggerServerEvent("CMG:banPlayer",c,p.banReason,p.totalLength,p.fullBanInfo)o={}p={}for a2=1,#r,1 do local a4=r[a2]a4.selected=false end end end,RMenu:Get('cmgadminmenu','mainmenu'))end,function()end)end end)function getSearchField(ak)AddTextEntry('FMMC_MPM_NA',"Search by "..ak)DisplayOnscreenKeyboard(1,"FMMC_MPM_NA","Search by "..ak,"","","","",30)while UpdateOnscreenKeyboard()==0 do DisableAllControlActions(0)Wait(0)end;if GetOnscreenKeyboardResult()then local al=GetOnscreenKeyboardResult()if al then return al else return""end end;return""end;RegisterNetEvent("CMG:setHiddenSpectate",function(playerSrc,am)w[playerSrc]=am or nil end)function func_checkSpectatorMode()if inSpectatorAdminMode then if IsControlJustPressed(0,51)then inSpectatorAdminMode=false;TriggerServerEvent("CMG:stopSpectatePlayer")end end end;CMG.createThreadOnTick(func_checkSpectatorMode)local an=false;RegisterNetEvent("CMG:freezeClientPlayer",function()local U=CMG.getPlayerPed()if IsPedSittingInAnyVehicle(U)then local ao=GetVehiclePedIsIn(U,false)TaskLeaveVehicle(U,ao,4160)end;if not an then FreezeEntityPosition(U,true)an=true;while an do CMG.setWeapon(U,`WEAPON_UNARMED`,true)Wait(0)end else FreezeEntityPosition(U,false)an=false end end)RegisterNetEvent("CMG:slapClientPlayer",function()SetEntityHealth(CMG.getPlayerPed(),0)end)RegisterNetEvent("CMG:takeClientScreenshotAndUpload",function(ap)exports['screenshot-basic']:requestScreenshotUpload('https://cmgstudios.net/upld/upload.php','files[]',function(aq)TriggerServerEvent("CMG:uploadImage",ap,aq)end)end)RegisterNetEvent("CMG:takeCheaterScreenshotAndUpload",function(ap)exports['screenshot-basic']:requestScreenshotUpload('https://cmgstudios.net/upld/upload.php','files[]',function(aq)TriggerServerEvent("CMG:uploadCheaterImage",ap,aq)end)end)RegisterNetEvent("CMG:takeClientVideoAndUpload",function(ap)exports['screenshot-basic']:requestVideoUpload('https://cmgstudios.net/upld/upload.php','files[]',{headers={},isVideo=true,isManual=true,encoding="mp4"},function(ar)TriggerServerEvent("CMG:uploadVideo",ap,ar)end,function()TriggerServerEvent("CMG:setVideoUploading")end)end)RegisterNetEvent("CMG:takeCheaterVideoAndUpload",function(ap)exports['screenshot-basic']:requestVideoUpload('https://cmgstudios.net/upld/upload.php','files[]',function(ar,as)TriggerServerEvent("CMG:uploadCheaterVideo",ap,ar,as)end)end)RegisterNetEvent("CMG:gotGroups",function(at)m=at;if at["pov"]then f=true else f=false end end)RegisterNetEvent("CMG:gotPlayerNotes",function(au)au=json.decode(au)if au==nil then g={}else g=au end end)RegisterNetEvent("CMG:sendBanInfo",function(a4)p=a4 end)RegisterNetEvent("CMG:doJimmy",jimmy)local av=false;function CMG.isPlayerInAdminTicket()return av end;RegisterNetEvent("CMG:startAdminTicket",function(aw,ax,ay)CMG.teleport(aw)TriggerEvent("CMG:OMioDioMode",true)Wait(500)av=true;while CMG.isStaffedOn()do drawNativeText("~y~You've taken the ticket of "..(ay or"").."("..ax..")")Wait(0)end;av=false end)RegisterNetEvent("CMG:setPosition",function(az,aA,aB,aC)if aC then local aD,aE=GetGroundZFor_3dCoord(az,aA,aB,0,false)if aD and aE>0.0 then aB=aE end end;SetEntityVelocity(PlayerPedId(),0.0,0.0,0.0)SetEntityCoords(PlayerPedId(),az,aA,aB,false,false,false,false)end)local aF=0;local function aG()local aH=GetResourceState("screenshot-basic")if aH=="started"then exports["screenshot-basic"]:requestKeepAlive(function(aI)if not aI then aF=GetGameTimer()end end)end;if GetGameTimer()-aF>120000 and not CMG.isDevMode()then TriggerServerEvent("CMG:failedKeepAlive")end end;AddEventHandler("CMG:onClientSpawn",function(C,D)if D then aF=GetGameTimer()while true do aG()Citizen.Wait(5000)end end end)local aJ=false;RegisterNetEvent("CMG:adminTicketFeedback",function(aK)local aL,aM=CMG.getPlayerVehicle()if aL~=0 and aM and GetEntitySpeed(aL)>25.0 or CMG.getPlayerCombatTimer()>0 then return end;if aJ then return end;aJ=true;RequestStreamedTextureDict("ticket_response",false)while not HasStreamedTextureDictLoaded("ticket_response")do Citizen.Wait(0)end;setCursor(1)TriggerScreenblurFadeIn(500.0)CMG.hideUI()local aN=nil;while not aN do DisableControlAction(0,202,true)drawNativeNotification("Press ~INPUT_FRONTEND_CANCEL~ to stop providing feedback")for a2=0,6 do DisableControlAction(0,a2,true)end;DrawSprite("ticket_response","faces",0.5,0.575,0.39,0.28275,0.0,255,255,255,255)DrawAdvancedText(0.58,0.4,0.01,0.01,0.65,"How would you rate your experience with the admin?",255,255,255,255,0,0)if CursorInArea(0.304,0.411,0.483,0.669)and IsControlJustPressed(0,237)then aN="good"end;if CursorInArea(0.446,0.552,0.483,0.669)and IsControlJustPressed(0,237)then aN="neutral"end;if CursorInArea(0.588,0.693,0.483,0.669)and IsControlJustPressed(0,237)then aN="bad"end;if IsDisabledControlJustPressed(0,202)then break end;Citizen.Wait(0)end;setCursor(0)SetStreamedTextureDictAsNoLongerNeeded("ticket_response")if aN then local aO=false;CMG.clientPrompt("Attached Message","",function(aP)TriggerServerEvent("CMG:adminTicketFeedback",aK,aN,aP)aO=true end)while not aO do for a2=0,6 do DisableControlAction(0,a2,true)end;drawNativeNotification("Press ~INPUT_FRONTEND_RUP~ to submit the "..aN.." feedback")DrawAdvancedText(0.58,0.4,0.01,0.01,0.65,"Would you like to provide any additional feedback?",255,255,255,255,0,0)Citizen.Wait(0)end else TriggerServerEvent("CMG:adminTicketNoFeedback",aK)end;CMG.showUI()TriggerScreenblurFadeOut(500.0)aJ=false end)RegisterNetEvent("CMG:returnCriteriaSearch",function(aQ)A=aQ;RageUI.Visible(RMenu:Get("cmgadminmenu","criteriasearch"),true)end)Citizen.CreateThread(function()while true do if CMG.getStaffLevel()>=4 and c and RageUI.Visible(RMenu:Get("cmgadminmenu","playermenu"))then TriggerServerEvent("CMG:getVideoRequestQueueCount",c)end;Citizen.Wait(2000)end end)