RMenu.Add('vipclubmenu','mainmenu',RageUI.CreateMenu("","",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_club","cmg_club"))RMenu:Get('vipclubmenu','mainmenu'):SetSubtitle("~b~CMG Club")RMenu.Add('vipclubmenu','managesubscription',RageUI.CreateSubMenu(RMenu:Get('vipclubmenu','mainmenu'),"","",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_club","cmg_club"))RMenu:Get('vipclubmenu','managesubscription'):SetSubtitle("~b~CMG Club")RMenu.Add('vipclubmenu','manageperks',RageUI.CreateSubMenu(RMenu:Get('vipclubmenu','mainmenu'),"","",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_club","cmg_club"))RMenu:Get('vipclubmenu','manageperks'):SetSubtitle("~b~CMG Club")RMenu.Add('vipclubmenu','deathsounds',RageUI.CreateSubMenu(RMenu:Get('vipclubmenu','manageperks'),"","",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_club","cmg_club"))RMenu:Get('vipclubmenu','deathsounds'):SetSubtitle("~b~CMG Club")RMenu.Add('vipclubmenu','vehicleextras',RageUI.CreateSubMenu(RMenu:Get('vipclubmenu','manageperks'),"","",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_club","cmg_club"))RMenu:Get('vipclubmenu','vehicleextras'):SetSubtitle("~b~CMG Club")local a={hoursOfPlus=0,hoursOfPlatinum=0}function CMG.isPlusClub()if a.hoursOfPlus>0 or CMG.isDeveloper(CMG.getUserId())then return true else return false end end;function CMG.isPlatClub()if a.hoursOfPlatinum>0 or CMG.isDeveloper(CMG.getUserId())then return true else return false end end;local function b()RageUI.CloseAll()RageUI.Visible(RMenu:Get('vipclubmenu','mainmenu'),not RageUI.Visible(RMenu:Get('vipclubmenu','mainmenu')))end;RegisterCommand("cmgclub",function()b()end)local c={["CMG"]={checked=true,soundId="playDead"},["Fortnite"]={checked=false,soundId="fortnite_death"},["Roblox"]={checked=false,soundId="roblox_death"},["Minecraft"]={checked=false,soundId="minecraft_death"},["Pac-Man"]={checked=false,soundId="pacman_death"},["Mario"]={checked=false,soundId="mario_death"},["CS:GO"]={checked=false,soundId="csgo_death"}}local d=false;Citizen.CreateThread(function()local e=GetResourceKvpString("cmg_codhitmarkersounds")or"false"if e=="false"then d=false;TriggerEvent("CMG:codHMSoundsOff")else d=true;TriggerEvent("CMG:codHMSoundsOn")end end)AddEventHandler("CMG:onClientSpawn",function(f,g)if g then Wait(5000)local h=CMG.getDeathSound()local i="playDead"for j,k in pairs(c)do if k.soundId==h then i=j end end;for j,l in pairs(c)do if i~=j then l.checked=false else l.checked=true end end end end)function CMG.setDeathSound(h)if CMG.isPlusClub()or CMG.isPlatClub()then SetResourceKvp("cmg_deathsound",h)else tvRP.notify("~r~Cannot change deathsound, not a valid CMG Plus or Platinum subscriber.")end end;function CMG.getDeathSound()if CMG.isPlusClub()or CMG.isPlatClub()then local j=GetResourceKvpString("cmg_deathsound")if type(j)=="string"and j~=""then return j else return"playDead"end else return"playDead"end end;local function m(h)SendNUIMessage({transactionType=h})end;RageUI.CreateWhile(1.0,RMenu:Get('vipclubmenu','mainmenu'),nil,function()RageUI.IsVisible(RMenu:Get('vipclubmenu','mainmenu'),true,true,true,function()RageUI.ButtonWithStyle("Manage Subscription","",{RightLabel="→→→"},true,function(n,o,p)if n then end;if o then end;if p then end end,RMenu:Get("vipclubmenu","managesubscription"))if CMG.isPlusClub()or CMG.isPlatClub()then RageUI.ButtonWithStyle("Manage Perks","",{RightLabel="→→→"},true,function(n,o,p)if n then end;if o then end;if p then end end,RMenu:Get("vipclubmenu","manageperks"))end end,function()end)RageUI.IsVisible(RMenu:Get('vipclubmenu','managesubscription'),true,true,true,function()if a.hoursOfPlus>=10 then colourCode="~g~"elseif a.hoursOfPlus<10 and a.hoursOfPlus>3 then colourCode="~y~"else colourCode="~r~"end;RageUI.Separator("Days remaining of Plus Subscription: "..colourCode..math.floor(a.hoursOfPlus/24*100)/100 .." days.")if a.hoursOfPlatinum>=10 then colourCode="~g~"elseif a.hoursOfPlatinum<10 and a.hoursOfPlatinum>3 then colourCode="~y~"else colourCode="~r~"end;RageUI.Separator("Days remaining of Platinum Subscription: "..colourCode..math.floor(a.hoursOfPlatinum/24*100)/100 .." days.")RageUI.Separator("---")RageUI.ButtonWithStyle("Sell Plus Subscription days.","~r~If you have already claimed your weekly kit, the first 7 of your subscription days may not be re-sold.",{RightLabel="→→→"},true,function(n,o,p)if n then end;if o then end;if p then if isInGreenzone then TriggerServerEvent("CMG:beginSellSubscriptionToPlayer","Plus")else notify("~r~You must be in a greenzone to sell.")end end end)RageUI.ButtonWithStyle("Sell Platinum Subscription days.","~r~If you have already claimed your weekly kit, the first 7 of your subscription days may not be re-sold.",{RightLabel="→→→"},true,function(n,o,p)if n then end;if o then end;if p then if isInGreenzone then TriggerServerEvent("CMG:beginSellSubscriptionToPlayer","Platinum")else notify("~r~You must be in a greenzone to sell.")end end end)end,function()end)RageUI.IsVisible(RMenu:Get('vipclubmenu','manageperks'),true,true,true,function()RageUI.ButtonWithStyle("Custom Death Sounds","",{RightLabel="→→→"},true,function(n,o,p)if n then end;if o then end;if p then end end,RMenu:Get("vipclubmenu","deathsounds"))RageUI.ButtonWithStyle("Vehicle Extras","",{RightLabel="→→→"},true,function(n,o,p)if n then end;if o then end;if p then end end,RMenu:Get("vipclubmenu","vehicleextras"))RageUI.ButtonWithStyle("Claim Weekly Kit","",{RightLabel="→→→"},true,function(n,o,p)if n then end;if o then end;if p then if not globalInPrison and not tvRP.isHandcuffed()then TriggerServerEvent("CMG:claimWeeklyKit")else notify("~r~You can not redeem a kit whilst in custody.")end end end)local function q()TriggerEvent("CMG:codHMSoundsOn")d=true;CMG.setCODHitMarkerSetting(d)tvRP.notify("~y~COD Hitmarkers now set to "..tostring(d))end;local function r()TriggerEvent("CMG:codHMSoundsOff")d=false;CMG.setCODHitMarkerSetting(d)tvRP.notify("~y~COD Hitmarkers now set to "..tostring(d))end;RageUI.Checkbox("Enable COD Hitmarkers","~g~This adds 'hit marker' sound and image when shooting another player.",d,{Style=RageUI.CheckboxStyle.Car},function(n,p,o,s)if n then end;if o then end;if p then end;if s then end end,q,r)end,function()end)RageUI.IsVisible(RMenu:Get('vipclubmenu','deathsounds'),true,true,true,function()for t,k in pairs(c)do RageUI.Checkbox(t,"",k.checked,{},function()end,function()for u,l in pairs(c)do l.checked=false end;k.checked=true;m(k.soundId)CMG.setDeathSound(k.soundId)end,function()end)end end,function()end)RageUI.IsVisible(RMenu:Get('vipclubmenu','vehicleextras'),true,true,true,function()local v=CMG.getPlayerVehicle()SetVehicleAutoRepairDisabled(v,true)for w=1,99,1 do if DoesExtraExist(v,w)then RageUI.Checkbox("Extra "..w,"",IsVehicleExtraTurnedOn(v,w),{},function()end,function()SetVehicleExtra(v,w,0)end,function()SetVehicleExtra(v,w,1)end)end end end,function()end)end)RegisterNetEvent("CMG:setVIPClubData",function(x,y)a.hoursOfPlus=x;a.hoursOfPlatinum=y end)RegisterNetEvent("CMG:reducePlusMembershipHour",function()a.hoursOfPlus=a.hoursOfPlus-1;if a.hoursOfPlus<0 then a.hoursOfPlus=0 end end)RegisterNetEvent("CMG:reducePlatMembershipHour",function()a.hoursOfPlatinum=a.hoursOfPlatinum-1;if a.hoursOfPlatinum<0 then a.hoursOfPlatinum=0 end end)Citizen.CreateThread(function()while true do if CMG.isPlatClub()then if not HasPedGotWeapon(PlayerPedId(),`GADGET_PARACHUTE`,false)then GiveWeaponToPed(PlayerPedId(),`GADGET_PARACHUTE`)SetPlayerHasReserveParachute(PlayerId())end end;if CMG.isPlusClub()or CMG.isPlatClub()then SetVehicleDirtLevel(CMG.getPlayerVehicle(),0.0)end;Wait(500)end end)