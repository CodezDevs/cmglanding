local a=false;local b=nil;local c=false;local d=nil;local e=false;local f=false;function CMG.isKnockedOut()return a end;RegisterNetEvent("playRussianRoulette",function(g)local h=GetEntityCoords(CMG.getPlayerPed())local i=#(h-g)if i<=15 then SendNUIMessage({transactionType='playRussianRoulette'})end end)RegisterNetEvent("playEmptyGun",function(g)local h=GetEntityCoords(CMG.getPlayerPed())local i=#(h-g)if i<=15 then SendNUIMessage({transactionType='emptygun'})end end)function tvRP.putInNearestVehicleAsPassenger(j)local k=CMG.getClosestVehicle(j)if IsEntityAVehicle(k)then for l=1,math.max(GetVehicleMaxNumberOfPassengers(k),3)do if IsVehicleSeatFree(k,l)then SetPedIntoVehicle(CMG.getPlayerPed(),k,l)return true end end end;return false end;function tvRP.putInNetVehicleAsPassenger(m)local k=CMG.getObjectId(m)if IsEntityAVehicle(k)then for l=1,GetVehicleMaxNumberOfPassengers(k)do if IsVehicleSeatFree(k,l)then SetPedIntoVehicle(CMG.getPlayerPed(),k,l)return true end end end end;function tvRP.putInVehiclePositionAsPassenger(n,o,p)local k=tvRP.getVehicleAtPosition(n,o,p)if IsEntityAVehicle(k)then for l=1,GetVehicleMaxNumberOfPassengers(k)do if IsVehicleSeatFree(k,l)then SetPedIntoVehicle(CMG.getPlayerPed(),k,l)return true end end end end;local q={{"switch@franklin@bed","sleep_loop"},{"switch@trevor@bed","bed_sleep_floyd"}}local function r()return q[math.random(1,#q)]end;RegisterNetEvent("CMG:knockOut",function()if not a and not CMG.isPurge()then tvRP.setCanAnim(false)a=true;b=r()end end)RegisterNetEvent("CMG:knockOutDisable",function()if a then local s=PlayerPedId()SetEntityCollision(s,true,true)FreezeEntityPosition(s,false)StopAnimTask(s,b[1],b[2],1.0)tvRP.setCanAnim(true)a=false;b=nil end end)RegisterNetEvent("CMG:drag")AddEventHandler('CMG:drag',function(t)d=t;e=not e end)RegisterNetEvent("CMG:undrag")AddEventHandler('CMG:undrag',function(t)e=false end)RegisterNetEvent("CMG:clearPoliceStuff",function()stopAutoClosingInventory=false;SetTimeout(10000,function()stopAutoClosingInventory=true end)while not stopAutoClosingInventory do drawInventoryUI=false;Wait(0)end end)function GetFounderPerks()TriggerServerEvent("CMG:getRobbsterPerks")end;TriggerEvent('chat:addSuggestion','/s60','Authorise a new Section 60 order',{{name="Radius",help="In metres"},{name="Duration",help="In Minutes"}})local u={}RegisterNetEvent("CMG:addS60",function(v,w,x)local y=AddBlipForCoord(v.x,v.y,v.z)local z=AddBlipForRadius(v.x,v.y,v.z,w+.0)local A=61;SetBlipSprite(y,526)SetBlipColour(y,A)SetBlipScale(y,1.0)BeginTextCommandSetBlipName('STRING')AddTextComponentSubstringPlayerName("Section 60")EndTextCommandSetBlipName(y)SetBlipAlpha(z,80)SetBlipColour(z,A)u[x]={z,y}local B=GetStreetNameAtCoord(v.x,v.y,v.z)local C=GetStreetNameFromHashKey(B)TriggerEvent("CMG:showNotification",{text="Metropolitan Police: <br/>A Section 60 has been authorised for the area of"..C..".<br/><br/>This gives officers the power to search any person or vehicle in the area, without any grounds. <br/><br/>This has been authorised in line with legislation.",height="auto",width="auto",colour="#FFF",background="#3287cd",pos="bottom-right",icon="success"},100000)end)RegisterNetEvent("CMG:removeS60",function(x)if u[x]then local D=u[x]local y=D[2]local w=D[1]RemoveBlip(y)RemoveBlip(w)end end)local E=false;RegisterCommand('+handsup',function()E=true end,false)RegisterCommand('-handsup',function()E=false end,false)RegisterKeyMapping("+handsup","Hands Up","KEYBOARD","X")Citizen.CreateThread(function()while true do if e and d~=nil then DisableControlAction(0,21,true)local F=GetPlayerPed(GetPlayerFromServerId(d))local G=CMG.getPlayerPed()AttachEntityToEntity(G,F,4103,11816,0.48,0.00,0.0,0.0,0.0,0.0,false,false,false,false,2)f=true else if f then DetachEntity(CMG.getPlayerPed(),true,false)f=false end end;if E or IsControlPressed(0,27)and not IsUsingKeyboard(2)then if not globalSurrenderring and not tvRP.isInComa()and not tvRP.isHandcuffed()and(tvRP.canAnim()or CMG.isTazedByRevive())then DisablePlayerFiring(CMG.getPlayerPed(),true)DisableControlAction(0,22,true)DisableControlAction(0,25,true)DisableControlAction(0,154,true)if not IsEntityDead(CMG.getPlayerPed())then if not c and not GetIsTaskActive(CMG.getPlayerPed(),298)then c=true;CMG.loadAnimDict('missminuteman_1ig_2')TaskPlayAnim(CMG.getPlayerPed(),'missminuteman_1ig_2','handsup_enter',7.0,1.0,-1,50,0,false,false,false)RemoveAnimDict("missminuteman_1ig_2")end end end end;if(IsControlJustReleased(1,323)or IsControlJustReleased(1,27))and not globalSurrenderring and c and not tvRP.isInComa()and not tvRP.isHandcuffed()and tvRP.canAnim()then c=false;CreateThread(function()local H=false;CreateThread(function()Wait(1000)H=true end)while not H do DisablePlayerFiring(CMG.getPlayerPed(),true)Wait(1)end end)DisableControlAction(0,21,true)DisableControlAction(0,137,true)ClearPedTasks(CMG.getPlayerPed())end;if a then if CMG.isStaffedOn()then TriggerEvent("CMG:knockOutDisable")elseif not tvRP.isInComa()then local s=PlayerPedId()if not IsEntityPlayingAnim(s,b[1],b[2],3)then CMG.loadAnimDict(b[1])local v=GetEntityCoords(s,true)SetEntityCollision(s,false,false)FreezeEntityPosition(s,true)local I,J=GetGroundZFor_3dCoord(v.x,v.y,v.z)if I then v=vector3(v.x,v.y,J+0.3)end;TaskPlayAnimAdvanced(s,b[1],b[2],v.x,v.y,v.z,0.0,0.0,0.0,3.0,1.0,-1,1,0.0,0,0)RemoveAnimDict(b[1])end;tvRP.notify("~r~You have been knocked out!")end end;Wait(0)end end)RMenu.Add('policehandbook','main',RageUI.CreateMenu("Police Handbook","~b~Officer Handbook",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight()))RageUI.CreateWhile(1.0,RMenu:Get('policehandbook','main'),nil,function()RageUI.IsVisible(RMenu:Get('policehandbook','main'),true,false,true,function()RageUI.Button("Arrest",nil,{},function(K,L,M)if M then TriggerEvent("CMG:showNotification",{text="The time now is ___. <br/>You are currently under arrest on suspision of ___. <br/>You do not have to say anything. But, it may harm your defence if you do not mention when questioned something which you later rely on in court. <br/>Anything you do say may be given in evidence. <br/>Do you understand?. <br/>The necessities for your arrest are to ___.",height="auto",width="auto",colour="#FFF",background="#3287cd",pos="bottom-right",icon="success"},100000)end end)RageUI.Button("Search - GOWISELY",nil,{},function(K,L,M)if M then TriggerEvent("CMG:showNotification",{text="Before you stop and search someone you must remember GO-WISELY. <br/>You do not have to use this after arrest. <br/>Grounds: for the search. <br/>Object: of the search. <br/>Warrant card: If not in uniform. <br/>Identity: I am PC ___. <br/>Station: attached to ___ Police Station. <br/>Entitlement: Entitled to a copy of this search up to ___ months. <br/>Legal power: Searching under s1 PACE (1984) / s23 MODA (1971). <br/>You: You are currently detained for the purpose of a search.",height="auto",width="auto",colour="#FFF",background="#3287cd",pos="bottom-right",icon="success"},100000)end end)RageUI.Button("PACE - Key Legislation",nil,{},function(K,L,M)if M then TriggerEvent("CMG:showNotification",{text="Police and Criminal Evidence Act 1984  - PACE.<br/> Section 1 - Stop and search (Stolen property, prohibited articles, weapons, articles used to commit an offence.<br/>Section 17 - Entry for the purpose of life and arrest<br/> Section 18 - Entry to search after an arrest <br/>Section 19 - Power of seizure<br/> Section 24 - Power of arrest <br/> Section 32 - Search after an arrest",height="auto",width="auto",colour="#FFF",background="#3287cd",pos="bottom-right",icon="success"},100000)end end)RageUI.Button("Identify Codes",nil,{},function(K,L,M)if M then TriggerEvent("CMG:showNotification",{text="IC1:~s~ White - North European. <br/>IC2: White - South European. <br/>IC3: Black. <br/>IC4: Asian. <br/>IC5: Chinese, Japanese or other South East Asian. <br/>IC6: Arabic or North African. <br/>IC9: Unknown",height="auto",width="auto",colour="#FFF",background="#3287cd",pos="bottom-right",icon="success"},100000)end end)RageUI.Button("Traffic Offence Report",nil,{},function(K,L,M)if M then TriggerEvent("CMG:showNotification",{text="I am reporting you for consideration of the question of prosecuting you for the offence(s) of ___. <br/><br/>You do not have to say anything but it may harm your defence if you do not mention NOW something which you may later rely on in court. Anything you do say may be given in evidence. <br/><br/>You are not under arrest - you are entitled to legal advice and you are not obliged to remain with me.",height="auto",width="auto",colour="#FFF",background="#3287cd",pos="bottom-right",icon="success"},100000)end end)RageUI.Button("Initial Phase Pursuit",nil,{},function(K,L,M)if M then TriggerEvent("CMG:showNotification",{text="VEHICLE DESCRIPTION: MAKE/MODEL/VRM. <br/>LOCATION & DIRECTION: ___. <br/>SPEED: ___. <br/>VEHICLE DENSITY: LOW/MED/HIGH. <br/>PEDESTRIAN DENSITY: LOW/MED/HIGH. <br/>ROAD CONDITIONS: WET/DRY/DIRT. <br/>WEATHER: CLEAR/LIGHT/DARK. <br/>VISIBILITY: CLEAR/MED/LOW. <br/>DRIVER CLASSIFICATION: IPP/ADV/TPAC. <br/>POLICE VEHICLE: MARKED/UNMARKED",height="auto",width="auto",colour="#FFF",background="#3287cd",pos="bottom-right",icon="success"},100000)end end)RageUI.Button("Warning Markers",nil,{},function(K,L,M)if M then TriggerEvent("CMG:showNotification",{text="FI: FIREARMS. <br/>WE: WEAPONS. <br/>XP: EXPLOSIVES. <br/>VI: VIOLENT. <br/>CO: CONTAGIOUS. <br/>ES: ESCAPER. <br/>AG: ALLEGES. <br/>AT: AILMENT. <br/>SU: SUICIDAL. <br/>MH: MENTAL HEALTH. <br/>DR: DRUGS. <br/>IM: MALE IMPERSONATOR. <br/>IF: FEMALE IMPERSONATOR",height="auto",width="auto",colour="#FFF",background="#3287cd",pos="bottom-right",icon="success"},100000)end end)RageUI.Button("s136 - Mental Healt Act",nil,{},function(K,L,M)if M then TriggerEvent("CMG:showNotification",{text="A constable may take a person to (or keep at) a place of a safety. <br/>This can be done without a warrant if: The individual appears to have a mental disorder, and they are in any place other than a house, flat or room where a person is living, or garden or garage that only one household has access to, and they are in need of immediate care or control. <br/><br/>A registered medical practitioner/healthcare professional must be consulted if practicable to do so.",height="auto",width="auto",colour="#FFF",background="#3287cd",pos="bottom-right",icon="success"},100000)end end)RageUI.Button("Arrest Necessities",nil,{},function(K,L,M)if M then TriggerEvent("CMG:showNotification",{text="You require at least two of the following necessities to arrest a suspect: <br/><br/>Investigation: conduct a prompt and effective. <br/>Disappearance: prevent the prosecution being hindered. <br/>Child or Vulnerable person: to protect a. <br/>Obstruction: of the highway unlawfully (preventing). <br/>Physical Injury: prevent to themselves or other person. <br/>Public Decency: prevent an offence being committed against. <br/>Loss or Damage: prevent to property. <br/>Address: enable to be ascertained (not readily available). <br/>Name: enable to be ascertained (not readily available).",height="auto",width="auto",colour="#FFF",background="#3287cd",pos="bottom-right",icon="success"},100000)end end)end,function()end)end)TriggerEvent('chat:addSuggestion','/handbook','Toggle the Police Handbook')RegisterNetEvent("CMG:toggleHandbook",function()RageUI.Visible(RMenu:Get('policehandbook','main'),true)end)RegisterNetEvent("playBreathalyserSound",function(v)Citizen.SetTimeout(10000,function()local h=CMG.getPlayerCoords()local i=#(h-v)if i<=15 then SendNUIMessage({transactionType='breathalyser'})end end)end)TriggerEvent('chat:addSuggestion','/breathalyse','Breathalyse the nearest person')RegisterNetEvent("CMG:breathTestResult",function(N,O)local P=O;RequestAnimDict("weapons@first_person@aim_rng@generic@projectile@shared@core")while not HasAnimDictLoaded("weapons@first_person@aim_rng@generic@projectile@shared@core")do Wait(0)end;TaskPlayAnim(CMG.getPlayerPed(),"weapons@first_person@aim_rng@generic@projectile@shared@core","idlerng_med",1.0,-1,10000,50,0,false,false,false)RemoveAnimDict("weapons@first_person@aim_rng@generic@projectile@shared@core")RageUI.Text({message="~w~You are now ~b~breathalysing ~b~"..P.."~w~, please wait for the results."})Citizen.SetTimeout(10000,function()if N<36 then RageUI.Text({message="~w~The suspect has provided a legal breathalyser sample of ~b~"..N.." ~w~µg/100ml."})else RageUI.Text({message="~w~The suspect has provided an illegal breathalyser sample of ~b~"..N.." ~w~µg/100ml."})end end)end)RegisterNetEvent("CMG:beingBreathalysed",function()RageUI.Text({message="~w~You are currently being ~b~breathalysed ~w~by a police officer."})end)RegisterNetEvent("CMG:breathalyserCommand",function()local F=CMG.getPlayerPed()if not IsPedInAnyVehicle(F,true)then local v=GetEntityCoords(F)local Q=GetActivePlayers()for R,S in pairs(Q)do if GetPlayerPed(S)~=F then local T=GetEntityCoords(GetPlayerPed(S))local U=#(v-T)if U<3.0 then local V=GetPlayerServerId(S)TriggerServerEvent("CMG:breathalyserRequest",V)break end end end end end)TriggerEvent('chat:addSuggestion','/wc','Flash your police warrant card.')TriggerEvent('chat:addSuggestion','/wca','Flash your police warrant card.')RegisterNetEvent("CMG:flashWarrantCard",function()local F=PlayerPedId()local W=CMG.loadModel(`prop_fib_badge`)local X=CreateObject(W,0,0,0,true,true,true)while not DoesEntityExist(X)do Wait(0)end;SetModelAsNoLongerNeeded(W)FreezeEntityPosition(X)AttachEntityToEntity(X,F,GetPedBoneIndex(F,58866),0.03,-0.05,-0.044,0.0,90.0,25.0,true,true,false,true,1,true)Wait(3000)DeleteObject(X)end)RMenu.Add('vehicleExtraMenu','main',RageUI.CreateMenu("Vehicle Extra Menu","~b~Development",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight()))RegisterCommand("extras",function(Y,Z)local _=Y;local a0=CMG.getUserId()if CMG.isDeveloper(a0)then RageUI.Visible(RMenu:Get('vehicleExtraMenu','main'),true)end end)RageUI.CreateWhile(1.0,RMenu:Get('vehicleExtraMenu','main'),nil,function()RageUI.IsVisible(RMenu:Get('vehicleExtraMenu','main'),true,false,true,function()local a1=CMG.getPlayerVehicle()if a1~=0 then RMenu:Get('vehicleExtraMenu','main'):SetSubtitle("Vehicle Model: "..GetDisplayNameFromVehicleModel(GetEntityModel(a1)))for l=1,12 do if DoesExtraExist(a1,l)then if IsVehicleExtraTurnedOn(a1,l)then RageUI.Button("Disable Extra "..l,nil,{RightLabel=tostring(l)},function(K,L,M)if M then SetVehicleExtra(a1,l,true)end end)else RageUI.Button("Enable Extra "..l,nil,{RightLabel=tostring(l)},function(K,L,M)if M then SetVehicleExtra(a1,l,false)end end)end end end end end,function()end)end)RMenu.Add('incidentsupportunit','main',RageUI.CreateMenu("Incident Support Unit","~b~Control Panel",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight()))local a2={active=false,signUp=false,flashing=false,accidentSign=false,aheadSign=false}RageUI.CreateWhile(1.0,RMenu:Get('incidentsupportunit','main'),nil,function()RageUI.IsVisible(RMenu:Get('incidentsupportunit','main'),true,false,true,function()local a1=CMG.getPlayerVehicle()if GetEntityModel(a1)==`incidentsupportunit`then a2.active=true;RageUI.Checkbox("Vehicle Sign Up","Toggle the vehicle sign on/off",a2.signUp,{Style=RageUI.CheckboxStyle.Car},function(K,M,L,a3)if M then if a2.signUp then RageUI.Text({message=string.format("~w~Sign is now ~g~~h~up")})SetVehicleExtra(a1,12,false)SetVehicleExtra(a1,11,true)SetVehicleExtra(a1,5,true)SetVehicleExtra(a1,6,true)else RageUI.Text({message=string.format("~w~Sign is now ~g~~h~down")})SetVehicleExtra(a1,12,true)SetVehicleExtra(a1,5,true)SetVehicleExtra(a1,6,true)SetVehicleExtra(a1,11,false)end end;a2.signUp=a3 end)if a2.signUp then RageUI.Checkbox("Accident Message","Toggle the vehicle accident sign on/off",a2.accidentSign,{Style=RageUI.CheckboxStyle.Car},function(K,M,L,a3)if M then if a2.accidentSign then RageUI.Text({message=string.format("~w~Accident Message is now ~g~~h~on")})SetVehicleExtra(a1,6,false)else RageUI.Text({message=string.format("~w~Accident Message now ~g~~h~off")})SetVehicleExtra(a1,6,true)a2.flashing=false end end;a2.accidentSign=a3 end)RageUI.Checkbox("Ahead Message","Toggle the vehicle ahead sign on/off",a2.aheadSign,{Style=RageUI.CheckboxStyle.Car},function(K,M,L,a3)if M then if a2.aheadSign then RageUI.Text({message=string.format("~w~Ahead Message is now ~g~~h~on")})SetVehicleExtra(a1,5,false)else RageUI.Text({message=string.format("~w~Ahead Message now ~g~~h~off")})SetVehicleExtra(a1,5,true)end end;a2.aheadSign=a3 end)RageUI.Checkbox("Matrix Flash","Toggle the flashing of the matrix sign ahead sign on/off",a2.flashing,{Style=RageUI.CheckboxStyle.Car},function(K,M,L,a3)if M then if a2.flashing then RageUI.Text({message=string.format("~w~Flashing is now ~g~~h~enabled")})a2.flashing=true;a2.active=true else RageUI.Text({message=string.format("~w~Flashing now ~g~~h~disabled")})end end;a2.flashing=a3 end)end end end,function()end)end)RegisterCommand("isu",function(Y,Z)RageUI.Visible(RMenu:Get('incidentsupportunit','main'),true)end)CreateThread(function()while true do if a2.active and a2.flashing then local a1=CMG.getPlayerVehicle()SetVehicleExtra(a1,5,true)SetVehicleExtra(a1,6,false)Wait(500)SetVehicleExtra(a1,6,true)SetVehicleExtra(a1,5,false)Wait(500)end;Wait(0)end end)RegisterNetEvent("CMG:startSearchingSuspect",function()tvRP.setCanAnim(false)CMG.loadAnimDict("custom@police")TaskPlayAnim(PlayerPedId(),"custom@police","police",8.0,8.0,-1,0,0.0,false,false,false)RemoveAnimDict("custom@police")local a4=GetGameTimer()while GetGameTimer()-a4<10000 do if IsDisabledControlJustPressed(0,73)then TriggerServerEvent("CMG:cancelPlayerSearch")return end;Citizen.Wait(0)end;tvRP.setCanAnim(true)end)local a5=false;RegisterNetEvent("CMG:startBeingSearching",function(a6)local a7=GetPlayerFromServerId(a6)if a7==-1 then return end;local a8=GetPlayerPed(a7)if a8==0 then return end;a5=true;tvRP.setCanAnim(false)CMG.loadAnimDict("custom@suspect")local s=CMG.getPlayerPed()AttachEntityToEntity(s,a8,-1,-0.05,0.5,0.0,0.0,0.0,0.0,false,false,false,false,2,false)TaskPlayAnim(s,"custom@suspect","suspect",8.0,8.0,-1,2,0.0,false,false,false)RemoveAnimDict("custom@suspect")local a4=GetGameTimer()while GetGameTimer()-a4<10000 do if not a5 then return end;Citizen.Wait(0)end;a5=false;tvRP.setCanAnim(true)DetachEntity(s)ClearPedTasks(s)end)RegisterNetEvent("CMG:cancelPlayerSearch",function()a5=false;tvRP.setCanAnim(true)local s=CMG.getPlayerPed()DetachEntity(s)ClearPedTasks(s)end)local a9=""local aa=""local ab=""local ac=false;local ad=""local ae=""local af=""local ag=false;RegisterNetEvent("CMG:receivePoliceCallsign",function(ah,ai,aj)a9=ai;aa=ah;ab=aj;ac=true;print("Your PD rank is: "..a9 .."\nYour callsign is: "..aa)end)RegisterNetEvent("CMG:receiveHmpCallsign",function(ah,ai,aj)ad=ai;ae=ah;af=aj;ag=true;print("Your HMP rank is: "..af.."\nYour callsign is: "..ae)end)function CMG.getPoliceCallsign()return aa end;function CMG.getPoliceRank()return a9 end;function CMG.getPoliceName()return ab end;function CMG.hasPoliceCallsign()return ac end;function CMG.getHmpCallsign()return ae end;function CMG.getHmpRank()return ad end;function CMG.getHmpName()return af end;function CMG.hasHmpCallsign()return ag end;function func_drawCallsign()if aa~=""and globalOnPoliceDuty then DrawAdvancedText(1.064,0.972,0.005,0.0028,0.4,aa,255,255,255,255,0,0)end;if ae~=""and globalOnPrisonDuty then DrawAdvancedText(1.064,0.972,0.005,0.0028,0.4,ae,255,255,255,255,0,0)end end;CMG.createThreadOnTick(func_drawCallsign)local ak=0;local function al()local s=CMG.getPlayerPed()if IsPedShooting(s)then local am=GetSelectedPedWeapon(s)local an,ao=GetMaxAmmo(s,am)local ap=GetWeapontypeGroup(am)if ao>=1 and ap~=`GROUP_MELEE`and ap~=`GROUP_THROWN`then ak=GetGameTimer()end end end;CMG.createThreadOnTick(al)function tvRP.hasRecentlyShotGun()return ak~=0 and GetGameTimer()-ak<600000 end;AddEventHandler("CMG:onClientSpawn",function()ak=0 end)RMenu.Add("trainingWorlds","mainmenu",RageUI.CreateMenu("Training Worlds","Main Menu",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight()))local aq={}local ar=false;RegisterNetEvent("CMG:trainingWorldOpen",function(as)ar=as;RageUI.Visible(RMenu:Get("trainingWorlds","mainmenu"),true)end)RageUI.CreateWhile(1.0,RMenu:Get("trainingWorlds","mainmenu"),nil,function()RageUI.IsVisible(RMenu:Get("trainingWorlds","mainmenu"),true,true,true,function()local at=false;for x,au in pairs(aq)do local av=string.format("Created by %s (%s) - Bucket %s",au.ownerName,au.ownerUserId,au.bucket)local aw=au.bucket==CMG.getPlayerBucket()local ax=aw and{RightLabel="(Joined)"}or{}RageUI.ButtonWithStyle(au.name,av,ax,true,function(K,L,M)if L and ar then drawNativeNotification("Press ~INPUT_FRONTEND_DELETE~ to delete this world")if IsControlJustPressed(0,214)then TriggerServerEvent("CMG:trainingWorldRemove",x)end end;if M then TriggerServerEvent("CMG:trainingWorldJoin",x)end end)if aw then at=aw end end;if at then RageUI.ButtonWithStyle("~r~Leave Training World",nil,{},true,function(K,L,M)if M then TriggerServerEvent("CMG:trainingWorldLeave")end end)end;if ar then RageUI.ButtonWithStyle("~b~Create Training World",nil,{},true,function(K,L,M)if M then TriggerServerEvent("CMG:trainingWorldCreate")end end)end end,function()end)end)RegisterNetEvent("CMG:trainingWorldSend",function(x,ay)aq[x]=ay end)RegisterNetEvent("CMG:trainingWorldSendAll",function(ay)aq=ay end)RegisterNetEvent("CMG:trainingWorldRemove",function(x)aq[x]=nil end)RegisterNetEvent("CMG:trainingWorldRemoveAll",function()aq={}ar=false;RageUI.Visible(RMenu:Get("trainingWorlds","mainmenu"),false)end)