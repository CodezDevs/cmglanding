local a=module("cfg/cfg_groupselector")local b=a.selectors;local c={}local d=false;local e=""RMenu.Add("main","groupselector",RageUI.CreateMenu("","",CMG.getRageUIMenuWidth(),CMG.getRageUIMenuHeight(),"cmg_licenseui","cmg_licenseui"))RMenu:Get("main","groupselector"):SetSubtitle("~b~Select a job.")AddEventHandler("CMG:onClientSpawn",function(f,g)if g and not CMG.isPurge()then TriggerServerEvent("CMG:getJobSelectors")end end)RegisterNetEvent("CMG:gotJobSelectors",function(h)c=h;local i=function(j)e=j.selectorId end;local k=function(j)RageUI.CloseAll()RageUI.Visible(RMenu:Get("main","groupselector"),false)end;local l=function(j)if IsControlJustPressed(1,38)then local m=b[j.selectorId].type;RageUI.CloseAll()RMenu:Get("main","groupselector"):SetSpriteBanner(a.selectorTypes[m]._config.TextureDictionary,a.selectorTypes[m]._config.texture)RageUI.Visible(RMenu:Get("main","groupselector"),not RageUI.Visible(RMenu:Get("cmgadminmenu","groupselector")))end;CMG.DrawText3D(b[j.selectorId].position,"Press [E] to open Job Selector.",0.2)end;for n,o in pairs(c)do CMG.createArea("selector_"..n,o.position,1.5,6,i,k,l,{selectorId=n})tvRP.addMarker(o.position.x,o.position.y,o.position.z-1,1.0,1.0,1.0,255,0,0,170,50,27)tvRP.addBlip(o.position.x,o.position.y,o.position.z,o._config.blipid,o._config.blipcolor,o._config.name)end end)RageUI.CreateWhile(1.0,RMenu:Get('main','groupselector'),nil,function()RageUI.IsVisible(RMenu:Get("main","groupselector"),true,true,true,function()for n,o in pairs(c)do if n==e then if table.count(o.jobs)~=0 then for p,q in pairs(o.jobs)do RageUI.ButtonWithStyle(q[1],o._config.name,{RightLabel="→→→"},true,function(r,s,t)if r then end;if s then end;if t then TriggerServerEvent("CMG:jobSelector",n,q[1])SetTimeout(1000,function()TriggerServerEvent("CMG:refreshGaragePermissions")end)end end,RMenu:Get("confirm","groupselector"))end else RageUI.Separator("You have no available clock on ranks")end;RageUI.ButtonWithStyle("Unemployed",o._config.name,{RightLabel="→→→"},true,function(r,s,t)if r then end;if s then end;if t then TriggerServerEvent("CMG:jobSelector",n,"Unemployed")SetTimeout(1000,function()TriggerServerEvent("CMG:refreshGaragePermissions")end)end end,RMenu:Get("confirm","groupselector"))end end end,function()end)end)