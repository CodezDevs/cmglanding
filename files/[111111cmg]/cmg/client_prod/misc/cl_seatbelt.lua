local a=0.90;local b=29.25;local c={}local d={}local e=false;local f=false;function IsCar(g)local h=GetVehicleClass(g)return h>=0 and h<=7 or h>=9 and h<=12 or h>=17 and h<=20 end;function Fwv(i)local j=GetEntityHeading(i)+90.0;if j<0.0 then j=360.0+j end;j=j*0.0174533;return{x=math.cos(j)*2.0,y=math.sin(j)*2.0}end;function func_seatbelt()local k=CMG.getPlayerPed()local l=GetVehiclePedIsIn(k)if l~=0 and(f or IsCar(l))then f=true;c[2]=c[1]c[1]=GetEntitySpeed(l)if c[2]~=nil and not e and GetEntitySpeedVector(l,true).y>1.0 and c[1]>b and c[2]-c[1]>c[1]*a then local m=GetEntityCoords(k)local n=Fwv(k)SetEntityCoords(k,m.x+n.x,m.y+n.y,m.z-0.47,true,true,true)SetEntityVelocity(k,d[2].x,d[2].y,d[2].z)Citizen.Wait(1)SetPedToRagdoll(k,1000,1000,0,0,0,0)end;d[2]=d[1]d[1]=GetEntityVelocity(l)if IsControlJustReleased(0,56)then e=not e;if e then tvRP.notify("Seatbelt ~g~On")else tvRP.notify("Seatbelt ~r~Off")end end elseif f then f=false;e=false;c[1],c[2]=0.0,0.0 end end